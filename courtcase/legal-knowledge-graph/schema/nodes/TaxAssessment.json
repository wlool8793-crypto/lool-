{
  "label": "TaxAssessment",
  "description": "Represents a tax assessment or tax matter involved in a case for tax law domain modeling",
  "required_properties": [
    {
      "name": "assessment_id",
      "type": "string",
      "description": "Unique identifier for the tax assessment",
      "constraints": ["UNIQUE", "NOT NULL"]
    },
    {
      "name": "case_id",
      "type": "string",
      "description": "Reference to the associated case",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "tax_type",
      "type": "string",
      "description": "Type of tax (income, corporate, VAT, customs, property, etc.)",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "assessment_year",
      "type": "string",
      "description": "Tax assessment year (e.g., '2022-2023')",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "source",
      "type": "string",
      "description": "Data source (e.g., 'IndianKanoon', 'BDLaws', 'Manual Entry')",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "extracted_at",
      "type": "datetime",
      "description": "Timestamp of data extraction",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "extracted_by",
      "type": "string",
      "description": "Extractor identifier (e.g., 'GPT-4', 'Gemini-2.5-Pro', 'Manual')",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "confidence_score",
      "type": "float",
      "description": "Extraction confidence score (0.0-1.0)",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "created_at",
      "type": "datetime",
      "description": "Node creation timestamp",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "updated_at",
      "type": "datetime",
      "description": "Last update timestamp",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "version",
      "type": "integer",
      "description": "Version number (increments on updates, default: 1)",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "trust_score",
      "type": "float",
      "description": "Composite trust score (0.0-1.0)",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "verification_status",
      "type": "string",
      "description": "Verification status: Verified, Unverified, Disputed, Deprecated",
      "constraints": ["NOT NULL"]
    }
  ],
  "optional_properties": [
    {
      "name": "taxpayer_id",
      "type": "string",
      "description": "Reference to taxpayer (Party node)"
    },
    {
      "name": "taxpayer_name",
      "type": "string",
      "description": "Name of the taxpayer"
    },
    {
      "name": "tax_authority",
      "type": "string",
      "description": "Tax authority (e.g., 'National Board of Revenue', 'Income Tax Department')"
    },
    {
      "name": "assessment_amount",
      "type": "float",
      "description": "Total assessment amount in local currency"
    },
    {
      "name": "disputed_amount",
      "type": "float",
      "description": "Amount in dispute"
    },
    {
      "name": "final_amount",
      "type": "float",
      "description": "Final assessed amount after judgment"
    },
    {
      "name": "currency",
      "type": "string",
      "description": "Currency code (BDT, INR, PKR)"
    },
    {
      "name": "assessment_date",
      "type": "date",
      "description": "Date of original assessment"
    },
    {
      "name": "appeal_date",
      "type": "date",
      "description": "Date when appeal was filed"
    },
    {
      "name": "judgment_date",
      "type": "date",
      "description": "Date of final judgment"
    },
    {
      "name": "assessment_order",
      "type": "string",
      "description": "Assessment order number/reference"
    },
    {
      "name": "tax_provisions",
      "type": "string[]",
      "description": "Tax law provisions involved (e.g., 'Section 80C', 'Section 271(1)(c)')"
    },
    {
      "name": "issues",
      "type": "string[]",
      "description": "Tax issues involved (e.g., 'Capital gains', 'Deduction disallowance')"
    },
    {
      "name": "outcome",
      "type": "string",
      "description": "Outcome: upheld, modified, set aside, remanded"
    },
    {
      "name": "penalty_amount",
      "type": "float",
      "description": "Penalty imposed (if any)"
    },
    {
      "name": "interest_amount",
      "type": "float",
      "description": "Interest charged"
    },
    {
      "name": "jurisdiction",
      "type": "string",
      "description": "Tax jurisdiction (Bangladesh, India, Pakistan)"
    },
    {
      "name": "tribunal_level",
      "type": "string",
      "description": "Level of tribunal (e.g., 'ITAT', 'Appellate Tribunal', 'High Court', 'Supreme Court')"
    },
    {
      "name": "notes",
      "type": "text",
      "description": "Additional notes about the assessment"
    },
    {
      "name": "changelog",
      "type": "list<json>",
      "description": "Array of change records: [{version, date, changes, updated_by}]"
    }
  ],
  "indexes": [
    {
      "type": "property",
      "name": "tax_assessment_case_id_index",
      "properties": ["case_id"]
    },
    {
      "type": "property",
      "name": "tax_assessment_type_index",
      "properties": ["tax_type"]
    },
    {
      "type": "property",
      "name": "tax_assessment_year_index",
      "properties": ["assessment_year"]
    },
    {
      "type": "composite",
      "name": "tax_assessment_type_year_index",
      "properties": ["tax_type", "assessment_year"]
    },
    {
      "type": "property",
      "name": "tax_assessment_taxpayer_index",
      "properties": ["taxpayer_id"]
    },
    {
      "type": "property",
      "name": "tax_assessment_outcome_index",
      "properties": ["outcome"]
    },
    {
      "type": "property",
      "name": "tax_assessment_source_index",
      "properties": ["source"]
    },
    {
      "type": "property",
      "name": "tax_assessment_extracted_by_index",
      "properties": ["extracted_by"]
    },
    {
      "type": "property",
      "name": "tax_assessment_trust_score_index",
      "properties": ["trust_score"]
    },
    {
      "type": "property",
      "name": "tax_assessment_verification_status_index",
      "properties": ["verification_status"]
    }
  ],
  "example": {
    "assessment_id": "tax_bd_2023_00145",
    "case_id": "case_bd_itat_2023_456",
    "tax_type": "income",
    "assessment_year": "2022-2023",
    "taxpayer_name": "ABC Corporation Ltd.",
    "tax_authority": "National Board of Revenue",
    "assessment_amount": 5000000.00,
    "disputed_amount": 1500000.00,
    "final_amount": 3500000.00,
    "currency": "BDT",
    "outcome": "modified",
    "jurisdiction": "Bangladesh"
  }
}
