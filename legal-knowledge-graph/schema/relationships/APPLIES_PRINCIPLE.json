{
  "relationship_type": "APPLIES_PRINCIPLE",
  "description": "Links a document chunk to a legal principle that is applied or discussed within that chunk, enabling principle-based legal reasoning in RAG",
  "from_node": "Chunk",
  "to_node": "LegalPrinciple",
  "properties": {
    "context": {
      "type": "text",
      "required": true,
      "description": "How the principle is applied or discussed in the chunk",
      "examples": [
        "Applied to determine standing in constitutional matters",
        "Distinguished from earlier precedent",
        "Extended to cover digital privacy rights"
      ]
    },
    "confidence": {
      "type": "float",
      "required": true,
      "description": "Confidence score for the principle application detection (0-1)",
      "range": "0.0-1.0",
      "indexed": true
    },
    "principle_text": {
      "type": "text",
      "required": true,
      "description": "Extracted text from the chunk that mentions or applies the principle"
    },
    "application_type": {
      "type": "string",
      "required": false,
      "description": "How the principle is used",
      "indexed": true,
      "examples": ["Applied", "Distinguished", "Explained", "Criticized", "Affirmed", "Extended", "Limited"]
    },
    "relevance_score": {
      "type": "float",
      "required": false,
      "description": "Relevance of principle to the chunk's main argument (0-1)",
      "range": "0.0-1.0"
    },
    "extracted_by": {
      "type": "string",
      "required": false,
      "description": "Tool/model that extracted this relationship",
      "examples": ["GPT-4", "Gemini-2.5-Pro", "Manual-Annotation"]
    },
    "created_at": {
      "type": "datetime",
      "required": true,
      "description": "Timestamp of relationship creation"
    }
  },
  "indexes": [
    "CREATE INDEX applies_principle_confidence IF NOT EXISTS FOR ()-[r:APPLIES_PRINCIPLE]-() ON (r.confidence)",
    "CREATE INDEX applies_principle_type IF NOT EXISTS FOR ()-[r:APPLIES_PRINCIPLE]-() ON (r.application_type)"
  ],
  "constraints": [],
  "examples": [
    {
      "description": "Chunk applying the Basic Structure Doctrine",
      "from": "Chunk{chunk_id: 'bd_2023_sc_001_chunk_003', chunk_type: 'reasoning'}",
      "to": "LegalPrinciple{principle_id: 'PRIN-BASIC-STRUCTURE', name: 'Basic Structure Doctrine'}",
      "properties": {
        "context": "Applied to determine that Parliament cannot amend the Constitution to abolish fundamental rights as they form part of the basic structure",
        "confidence": 0.95,
        "principle_text": "The Basic Structure Doctrine, as established in Kesavananda Bharati, prevents amendments that alter the Constitution's essential features including fundamental rights.",
        "application_type": "Applied",
        "relevance_score": 0.98,
        "extracted_by": "GPT-4-Principle-Extraction-v2"
      }
    }
  ]
}
