{
  "label": "SubSection",
  "description": "Represents a sub-section within a statutory section for granular amendment tracking",
  "required_properties": [
    {
      "name": "subsection_id",
      "type": "string",
      "description": "Unique identifier for the sub-section",
      "constraints": ["UNIQUE", "NOT NULL"]
    },
    {
      "name": "subsection_number",
      "type": "string",
      "description": "Sub-section number or identifier (e.g., '(1)', '(2)', '(a)', '(b)')",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "text",
      "type": "text",
      "description": "Text content of the sub-section",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "section_id",
      "type": "string",
      "description": "Reference to parent section",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "source",
      "type": "string",
      "description": "Data source (e.g., 'IndianKanoon', 'BDLaws', 'Manual Entry')",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "extracted_at",
      "type": "datetime",
      "description": "Timestamp of data extraction",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "extracted_by",
      "type": "string",
      "description": "Extractor identifier (e.g., 'GPT-4', 'Gemini-2.5-Pro', 'Manual')",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "confidence_score",
      "type": "float",
      "description": "Extraction confidence score (0.0-1.0)",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "created_at",
      "type": "datetime",
      "description": "Node creation timestamp",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "updated_at",
      "type": "datetime",
      "description": "Last update timestamp",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "version",
      "type": "integer",
      "description": "Version number (increments on updates, default: 1)",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "trust_score",
      "type": "float",
      "description": "Composite trust score (0.0-1.0)",
      "constraints": ["NOT NULL"]
    },
    {
      "name": "verification_status",
      "type": "string",
      "description": "Verification status: Verified, Unverified, Disputed, Deprecated",
      "constraints": ["NOT NULL"]
    }
  ],
  "optional_properties": [
    {
      "name": "order_index",
      "type": "integer",
      "description": "Order within parent section (for sorting)"
    },
    {
      "name": "subsection_type",
      "type": "string",
      "description": "Type of sub-section (numbered, lettered, roman)"
    },
    {
      "name": "effective_from",
      "type": "date",
      "description": "Date from which this sub-section is effective"
    },
    {
      "name": "effective_to",
      "type": "date",
      "description": "Date until which this sub-section is effective (if repealed)"
    },
    {
      "name": "is_current_version",
      "type": "boolean",
      "description": "Whether this is the current active version"
    },
    {
      "name": "status",
      "type": "string",
      "description": "Status: active, repealed, superseded, amended"
    },
    {
      "name": "embedding",
      "type": "vector",
      "description": "Vector embedding for semantic search (1536 dimensions)",
      "vector_dimension": 1536
    },
    {
      "name": "keywords",
      "type": "string[]",
      "description": "Extracted keywords"
    },
    {
      "name": "summary",
      "type": "string",
      "description": "Brief summary of sub-section content"
    },
    {
      "name": "changelog",
      "type": "list<json>",
      "description": "Array of change records: [{version, date, changes, updated_by}]"
    }
  ],
  "indexes": [
    {
      "type": "property",
      "name": "subsection_section_id_index",
      "properties": ["section_id"]
    },
    {
      "type": "composite",
      "name": "subsection_order_index",
      "properties": ["section_id", "order_index"]
    },
    {
      "type": "composite",
      "name": "subsection_temporal_index",
      "properties": ["effective_from", "effective_to", "is_current_version"]
    },
    {
      "type": "property",
      "name": "subsection_status_index",
      "properties": ["status"]
    },
    {
      "type": "property",
      "name": "subsection_source_index",
      "properties": ["source"]
    },
    {
      "type": "property",
      "name": "subsection_extracted_by_index",
      "properties": ["extracted_by"]
    },
    {
      "type": "property",
      "name": "subsection_trust_score_index",
      "properties": ["trust_score"]
    },
    {
      "type": "property",
      "name": "subsection_verification_status_index",
      "properties": ["verification_status"]
    },
    {
      "type": "fulltext",
      "name": "subsection_text_index",
      "properties": ["text", "summary"]
    },
    {
      "type": "vector",
      "name": "subsection_embedding_index",
      "properties": ["embedding"],
      "dimensions": 1536,
      "similarity": "cosine"
    }
  ],
  "example": {
    "subsection_id": "subsection_bd_pc_302_1",
    "subsection_number": "(1)",
    "text": "Whoever commits murder shall be punished with death, or imprisonment for life, and shall also be liable to fine.",
    "section_id": "section_bd_pc_302",
    "order_index": 1,
    "subsection_type": "numbered",
    "effective_from": "2023-07-01",
    "is_current_version": true,
    "status": "active"
  }
}
